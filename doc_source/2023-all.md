# January 2023 \- Present<a name="2023-all"></a>

Since January 2023, AWS Control Tower has released the following updates:
+ [Terraform support for Account Factory Customization](#afc-terraform)
+ [AWS IAM self\-management available for landing zone](#iam-self-manage)
+ [AWS Control Tower addresses mixed governance for OUs](#mixed-governance-note)
+  [Additional proactive controls available](#new-proactive-controls) 
+  [Updated Amazon EC2 proactive controls](#updated-ec2-controls) 
+  [Seven additional AWS Regions available](#seven-regions) 
+  [ Account Factory for Terraform \(AFT\) account customization request tracing ](#account-customization-request-tracing-ga) 
+  [AWS Control Tower landing zone version 3\.1](#lz-3-1) 
+  [Proactive controls generally available](#proactive-control-ga) 

## Terraform support for Account Factory Customization<a name="afc-terraform"></a>

**June 6, 2023**

\(No update required for AWS Control Tower landing zone\.\)

AWS Control Tower offers single\-Region support for Terraform through Account Factory Customization \(AFC\)\. Starting with this release, you can use AWS Control Tower and Service Catalog together, to define AFC account blueprints, in Terraform open source\. You can customize your new and existing AWS accounts, before you provision resources in AWS Control Tower\. By default, this feature enables you to deploy and update accounts, with Terraform, in your AWS Control Tower home Region\.

An account blueprint describes the specific resources and configurations that are required when an AWS account is provisioned\. You can use the blueprint as a template to create multiple AWS accounts at scale\.

To get started, use the [Terraform Reference Engine on GitHub](https://github.com/aws-samples/service-catalog-engine-for-terraform-os)\. The Reference Engine conﬁgures the code and infrastructure required for the Terraform open source engine to work with Service Catalog\. This one\-time setup process takes a few minutes\. After that, you can define your custom account requirements in Terraform, and then deploy your accounts with the well\-defined AWS Control Tower account factory workflow\. Customers who prefer to work with Terraform can utilize AWS Control Tower account customization at scale with AFC, and gain immediate access to each account after it is provisioned\.

To learn how to create these customizations, see [Creating Products](https://docs.aws.amazon.com/servicecatalog/latest/adminguide/productmgmt-cloudresource.html) and [Getting started with Terraform open source](https://docs.aws.amazon.com/servicecatalog/latest/adminguide/getstarted-Terraform.html) in the Service Catalog documentation\. This feature is available in all AWS Regions where AWS Control Tower is available\.

## AWS IAM self\-management available for landing zone<a name="iam-self-manage"></a>

**June 6, 2023**

\(No update required for AWS Control Tower landing zone\.\)

AWS Control Tower now supports an optional choice of identity provider for an AWS Control Tower landing zone, which you can configure during setup or update\. By default, the landing zone is opted\-in to using AWS IAM Identity Center, in alignment with best\-practices guidance defined in [Organizing Your AWS Environment Using Multiple Accounts](https://docs.aws.amazon.com/whitepapers/latest/organizing-your-aws-environment/break-glass-access.html)\.You now have three alternatives:
+ You can acccept the default and allow AWS Control Tower to set up and manage AWS IAM Identity Center for you\.
+ You can choose to self\-manage AWS IAM Identity Center, to reflect your specific business requirements\.
+ You can optionally bring and self\-manage a third\-party identity provider, if needed\. You should use identity provider optionality if your regulatory environment requires you to use a specific provider, or if you operate in AWS Regions where AWS IAM is not available\.

For more information, see [IAM Identity Center guidance](sso-guidance.md)\.

Selection of identity providers at the account level is not supported\. This feature applies only for the landing zone as a whole\. AWS Control Tower identity provider optionality is available in all AWS Regions where AWS Control Tower is available\. 

## AWS Control Tower addresses mixed governance for OUs<a name="mixed-governance-note"></a>

**June 1, 2023**

\(No update required for AWS Control Tower landing zone\.\)

With this release, AWS Control Tower prevents controls from deploying to an organizational unit \(OU\), if that OU is in a state of *mixed governance*\. Mixed governance occurs in an OU if accounts are not updated after AWS Control Tower extends governance to a new AWS Region, or removes governance\. This release helps you keep the member accounts of that OU in uniform compliance\. For more information, see [Avoid mixed governance when configuring Regions](region-how.md#mixed-governance)\.

## Additional proactive controls available<a name="new-proactive-controls"></a>

**May 19, 2023**

\(No update required for AWS Control Tower landing zone\.\)

AWS Control Tower is adding 28 new proactive controls to assist you in governing your multi\-account environment and meeting specific control objectives, such as data encryption at rest, or limiting network access\. Proactive controls are implemented with AWS CloudFormation hooks that check your resources before they are provisioned\. The new controls can help govern AWS services such as Amazon OpenSearch Service, Amazon EC2 Auto Scaling, Amazon SageMaker, Amazon API Gateway, and Amazon Relational Database Service \(RDS\)\.

Proactive controls are supported in all commercial AWS Regions where AWS Control Tower is available\. 

**Amazon OpenSearch Service**
+ \[CT\.OPENSEARCH\.PR\.1\] Require an Elasticsearch domain to encrypt data at rest
+ \[CT\.OPENSEARCH\.PR\.2\] Require an Elasticsearch domain to be created in a user\-specified Amazon VPC
+ \[CT\.OPENSEARCH\.PR\.3\] Require an Elasticsearch domain to encrypt data sent between nodes
+ \[CT\.OPENSEARCH\.PR\.4\] Require an Elasticsearch domain to send error logs to Amazon CloudWatch Logs
+ \[CT\.OPENSEARCH\.PR\.5\] Require an Elasticsearch domain to send audit logs to Amazon CloudWatch Logs
+ \[CT\.OPENSEARCH\.PR\.6\] Require an Elasticsearch domain to have zone awareness and at least three data nodes
+ \[CT\.OPENSEARCH\.PR\.7\] Require an Elasticsearch domain to have at least three dedicated master nodes
+ \[CT\.OPENSEARCH\.PR\.8\] Require an Elasticsearch Service domain to use TLSv1\.2
+ \[CT\.OPENSEARCH\.PR\.9\] Require an Amazon OpenSearch Service domain to encrypt data at rest
+ \[CT\.OPENSEARCH\.PR\.10\] Require an Amazon OpenSearch Service domain to be created in a user\-specified Amazon VPC
+ \[CT\.OPENSEARCH\.PR\.11\] Require an Amazon OpenSearch Service domain to encrypt data sent between nodes
+ \[CT\.OPENSEARCH\.PR\.12\] Require an Amazon OpenSearch Service domain to send error logs to Amazon CloudWatch Logs
+ \[CT\.OPENSEARCH\.PR\.13\] Require an Amazon OpenSearch Service domain to send audit logs to Amazon CloudWatch Logs
+ \[CT\.OPENSEARCH\.PR\.14\] Require an Amazon OpenSearch Service domain to have zone awareness and at least three data nodes
+ \[CT\.OPENSEARCH\.PR\.15\] Require an Amazon OpenSearch Service domain to use fine\-grained access control
+ \[CT\.OPENSEARCH\.PR\.16\] Require an Amazon OpenSearch Service domain to use TLSv1\.2

**Amazon EC2 Auto Scaling**
+ \[CT\.AUTOSCALING\.PR\.1\] Require an Amazon EC2 Auto Scaling group to have multiple Availability Zones
+ \[CT\.AUTOSCALING\.PR\.2\] Require an Amazon EC2 Auto Scaling group launch configuration to configure Amazon EC2 instances for IMDSv2
+ \[CT\.AUTOSCALING\.PR\.3\] Require an Amazon EC2 Auto Scaling launch configuration to have a single\-hop metadata response limit
+ \[CT\.AUTOSCALING\.PR\.4\] Require an Amazon EC2 Auto Scaling group associated with an Amazon Elastic Load Balancing \(ELB\) to have ELB health checks activated
+ \[CT\.AUTOSCALING\.PR\.5\] Require that an Amazon EC2 Auto Scaling group launch configuration does not have Amazon EC2 instances with public IP addresses
+ \[CT\.AUTOSCALING\.PR\.6\] Require any Amazon EC2 Auto Scaling groups to use multiple instance types
+ \[CT\.AUTOSCALING\.PR\.8\] Require an Amazon EC2 Auto Scaling group to have EC2 launch templates configured

**Amazon SageMaker**
+  \[CT\.SAGEMAKER\.PR\.1\] Require an Amazon SageMaker notebook instance to prevent direct internet access
+ \[CT\.SAGEMAKER\.PR\.2\] Require Amazon SageMaker notebook instances to be deployed within a custom Amazon VPC
+ \[CT\.SAGEMAKER\.PR\.3\] Require Amazon SageMaker notebook instances to have root access disallowed

**Amazon API Gateway**
+ \[CT\.APIGATEWAY\.PR\.5\] Require Amazon API Gateway V2 Websocket and HTTP routes to specify an authorization type

**Amazon Relational Database Service \(RDS\)**
+ \[CT\.RDS\.PR\.25\] Require an Amazon RDS database cluster to have logging configured

For more information, see [Proactive controls](proactive-controls.md)\.

## Updated Amazon EC2 proactive controls<a name="updated-ec2-controls"></a>

**May 2, 2023**

\(No update required for AWS Control Tower landing zone\.\)

AWS Control Tower has updated two proactive controls: CT\.EC2\.PR\.3 and CT\.EC2\.PR\.4\.

For the updated CT\.EC2\.PR\.3 control, any AWS CloudFormation deployment that references a prefix list for a security group resource is blocked from deployment, unless it is for port 80 or 443\.

For the updated CT\.EC2\.PR\.4 control, any AWS CloudFormation deployment that references a prefix list for a security group resource is blocked if the port is 3389, 20, 23, 110, 143, 3306, 8080, 1433, 9200, 9300, 25, 445, 135, 21, 1434, 4333, 5432, 5500, 5601, 22, 3000, 5000, 8088, 8888\.

## Seven additional AWS Regions available<a name="seven-regions"></a>

**April 19, 2023**

\(No update required for AWS Control Tower landing zone\.\)

AWS Control Tower is now available in seven additional AWS Regions: Northern California \(San Francisco\), Asia Pacific \(Hong Kong, Jakarta, and Osaka\), Europe \(Milan\), Middle East \(Bahrain\), and Africa \(Cape Town\)\. These additional Regions for AWS Control Tower, called *opt\-in Regions*, are not active by default, except the US West \(N\. California\) Region, which is active by default\.

Some controls in AWS Control Tower do not operate in some of these additional AWS Regions where AWS Control Tower is available, because those Regions do not support the required underlying functionality\. For details, see [Control limitations](limits.md#control-limitations)\.

Among these new Regions, CfCT is not available in Asia Pacific \(Jakarta and Osaka\)\. Availability in other AWS Regions is unchanged\.

For more information about how AWS Control Tower manages the limitations of Regions and controls, see [Considerations for activating AWS opt\-in Regions](opt-in-region-considerations.md)\.

The VPCe endpoints required by AFT are not available in the Middle East \(Bahrain\) Region\. Customers deploying AFT in this Region are required to deploy with parameter `aft_vpc_endpoints=false`\. For more information, see the parameter in [ the README file](https://github.com/aws-ia/terraform-aws-control_tower_account_factory#input_aft_vpc_endpoints)\. 

AWS Control Tower VPCs have two Availability Zones in the US West \(N\. California\) Region, `us-west-1`, due to a limitation in Amazon EC2\. In the US West \(N\. California\), six subnets are divided across two Availability Zones\. For more information, see [Overview of AWS Control Tower and VPCs](vpc-concepts.md)\.

AWS Control Tower added new permissions to `AWSControlTowerServiceRolePolicy` that allow AWS Control Tower to make calls to the `EnableRegion`, `ListRegions`, and `GetRegionOptStatus` APIs implemented by the AWS Account Management service, to make these additional AWS Regions available for your shared accounts in the landing zone \(Management account, Log archive account, Audit account\) and your OU member accounts\. For more information, see [Managed policies for AWS Control Tower](access-control-managing-permissions.md#managed-policies-table)\.

## Account Factory for Terraform \(AFT\) account customization request tracing<a name="account-customization-request-tracing-ga"></a>

AFT supports account customization request tracing\. Every time you submit an account customization request, AFT generates a unique tracing token that passes through an AFT customization AWS Step Functions state machine, which logs the token as part of its execution\. You can use Amazon CloudWatch Logs insights queries to search timestamp ranges and retrieve the request token\. As a result, you can see payloads that accompany the token, so you can trace your account customization request throughout the entire AFT workflow\. For more information about AFT, see [Overview of AWS Control Tower Account Factory for Terraform](https://docs.aws.amazon.com/controltower/latest/userguide/aft-overview.html)\. For information about CloudWatch Logs and Step Functions, see the following: 
+  [What is Amazon CloudWatch Logs?](https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/WhatIsCloudWatchLogs.html) in the *Amazon CloudWatch Logs User Guide* 
+  [What is AWS Step Functions?](https://docs.aws.amazon.com/step-functions/latest/dg/welcome.html) in the *AWS Step Functions Developer Guide* 

## AWS Control Tower landing zone version 3\.1<a name="lz-3-1"></a>

February 9, 2023

\(Update required for AWS Control Tower landing zone to version 3\.1\. For information, see [Update Your Landing Zone](update-controltower.md)\.\)

AWS Control Tower landing zone version 3\.1 includes the following updates:
+ With this release, AWS Control Tower deactivates unnecessary access logging for your *access logging bucket*, which is the Amazon S3 bucket where access logs are stored in the Log Archive account, while continuing to enable server access logging for S3 buckets\. This release also includes updates to the Region Deny control that allow additional actions for global services, such as AWS Support Plans and AWS Artifact\. 
+ Deactivation of server access logging for the AWS Control Tower access logging bucket causes Security Hub to create a finding for the Log Archive account's *access logging bucket*, due to an AWS Security Hub rule, [\[S3\.9\] S3 bucket server access logging should be enabled](https://docs.aws.amazon.com/securityhub/latest/userguide/securityhub-standards-fsbp-controls.html#fsbp-s3-9)\. In alignment with Security Hub, we recommend that you suppress this particular finding, as stated in the Security Hub description of this rule\. For additional information, see [information about suppressed findings](https://docs.aws.amazon.com/securityhub/latest/userguide/finding-workflow-status.html)\.
+ Access logging for the \(regular\) logging bucket in the Log Archive account is unchanged in version 3\.1\. In alignment with best practices, access events for that bucket are recorded as log entries in the *access logging bucket*\.  For more information about access logging, see [Logging requests using server access logging](https://docs.aws.amazon.com/AmazonS3/latest/userguide/ServerLogs.html) in the Amazon S3 documentation\.
+ We made an update of the Region Deny control\. This update allows actions by more global services\. For details of this SCP, see [Deny access to AWS based on the requested AWS Region](data-residency-controls.md#primary-region-deny-policy) and [Controls that enhance data residency protection](data-residency-controls.md)\.

  **Global services added:**
  + AWS Account Management \(`account:*`\)
  + AWS Activate \(`activate:*`\)
  + AWS Artifact \(`artifact:*`\)
  + AWS Billing Conductor \(`billingconductor:*`\)
  + AWS Compute Optimizer \(`compute-optimizer:*`\)
  + AWS Data Pipeline \(`datapipeline:GetAccountLimits`\)
  + AWS Device Farm\(`devicefarm:*`\)
  + AWS Marketplace \(`discovery-marketplace:*`\)
  + Amazon ECR \(`ecr-public:*`\)
  + AWS License Manager \(`license-manager:ListReceivedLicenses`\)
  + AWS Lightsail \(`lightsail:Get*`\)
  + AWS Resource Explorer \(`resource-explorer-2:*`\)
  + Amazon S3 \(`s3:CreateMultiRegionAccessPoint`, `s3:GetBucketPolicyStatus`, `s3:PutMultiRegionAccessPointPolicy`\)
  + AWS Savings Plans \(`savingsplans:*`\)
  + IAM Identity Center \(`sso:*`\)
  + AWS Support App \(`supportapp:*`\)
  + AWS Support Plans \(`supportplans:*`\)
  + AWS Sustainability \(`sustainability:*`\)
  + AWS Resource Groups Tagging API \(`tag:GetResources`\)
  + AWS Marketplace Vendor Insights \(`vendor-insights:ListEntitledSecurityProfiles`\)

## Proactive controls generally available<a name="proactive-control-ga"></a>

**January 24, 2023**

\(No update required for AWS Control Tower landing zone\.\)

Optional proactive controls, previously announced in preview status, are now generally available\. These controls are referred to as proactive because they check your resources – before the resources are deployed – to determine whether the new resources comply with the controls that are activated in your environment\. For more information, see [Comprehensive controls assist in AWS resource provisioning and management](2022-all.md#proactive-controls-notes)\.